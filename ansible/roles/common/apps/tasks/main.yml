- name: GitApps folder
  file:
    path: "{{ home }}/GitApps"
    state: directory
    mode: 0755

- name: Install Arch GitApps
  git:
    repo: "{{ item.url }}"
    dest: "{{ item.dest }}"
    clone: yes
    update: yes
  with_items:
    - {
        url: "https://github.com/robbyrussell/oh-my-zsh.git",
        dest: "{{ home }}/GitApps/oh-my-zsh",
        type: common,
      }
    - {
        url: "git@github.com:Yelp/aactivator",
        dest: "{{ home }}/GitApps/aactivator",
        type: linux
      }
  when: (item.type == "common") or (item.type == "linux" and is_linux)
