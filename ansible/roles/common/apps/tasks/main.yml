- name: GitApps folder
  file:
    path: "{{ home }}/GitApps"
    state: directory
    mode: 0755

- name: Install Common GitApps
  git:
    repo: "{{ item.url }}"
    dest: "{{ item.dest }}"
    clone: yes
    update: yes
    depth: 1
  with_items:
    - {
        url: "https://github.com/robbyrussell/oh-my-zsh.git",
        dest: "{{ home }}/GitApps/oh-my-zsh",
      }
    - {
        url: "https://github.com/Yelp/aactivator.git",
        dest: "{{ home }}/GitApps/aactivator",
      }
    - {
        url: "https://github.com/junegunn/fzf.git",
        dest: "{{ home }}/GitApps/fzf",
      }

- name: Post Install Tasks
  command: ./install --no-update-rc --completion --key-bindings
  args:
    chdir: "{{ home }}/GitApps/fzf"
  changed_when: False
